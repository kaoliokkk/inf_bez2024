---
## Front matter
lang: ru-RU
title: Лабораторная работа № 5
subtitle: Дискреционное разграничение прав в Linux. Исследование влияния дополнительных атрибутов
author:
  - Морозов М. Е.
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 12 сентября 2024

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
---


## Цель работы

Изучение механизмов изменения идентификаторов, применения SetUID и Sticky-битов. Получение практических навыков работы в консоли с дополнительными атрибутами. 
Рассмотрение работы механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов.

## Теоретическое введение

В настоящее время sticky bit используется в основном для каталогов, чтобы защитить в них файлы. Из такого каталога пользователь может удалить только те файлы, владельцем которых он является. 
Примером может служить каталог /tmp, в который запись открыта для всех пользователей, но нежелательно удаление чужих файлов. Установка атрибута производится утилитой chmod.

# Выполнение лабораторной работы

## Выполнение лабораторной работы
Создали файл simple.id и записали в него код из лабораторной.
После запуска получили uid и gid нашего пользователя
Усложним скрипт, добавив вывод real uid и gid.
Теперь выводятся и real uid и gid, все совпадает с результатами предыдущих шагов
Пропишем chown и chmod.
chown изменяет владельца файла, а chmod u+s позволяет запускать файл с правами владельца. Теперь при запуске файла от имени guest получаем e_uid root

## Выполнение лабораторной работы
Проделаем то же самое с SetGID-битом. 
Вывод такой же
Создадим файл readfile.c как в лабораторной и скомпилируем его. 
Меняем владельца на root и забираем все права у всех кроме владельца
Проверяем.
guest не может прочесть readfile.c
Попробуем прочитать readfile.c с помощью readfile.

## Выполнение лабораторной работы
Результаты работы 1 (рис. [-@fig:01])

![Результат 1](image/1.png){#fig:01 width=70%}

## Выполнение лабораторной работы
Результаты работы 2 (рис. [-@fig:02])

![Результат 2](image/2.png){#fig:02 width=70%}

## Выполнение лабораторной работы
Результаты работы 3 (рис. [-@fig:03])

![Результат 3](image/3.png){#fig:03 width=70%}

## Выводы

Изучили механизмы изменения идентификаторов, применения SetUID и Sticky-битов. Получили практические навыки работы в консоли с дополнительными атрибутами. 
Рассмотрели работу механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов.

## Список литературы

1. Stickybit [Электронный ресурс]. Wikimedia Foundation, Inc., 2024. URL: https://ru.wikipedia.org/wiki/Sticky_bit.